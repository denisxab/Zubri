#:import hex kivy.utils.get_color_from_hex

#:set  Color_Background hex("#0E5274")
#:set  Color_Contant hex("#98AEBB")

#:set  Color_Duble hex("#000000")
#:set  Color_Text_Inpyt hex("#000000")
#:set  Color_Button Color_Contant
#:set  Color_Background_Text_Inpyt Color_Button

<LOptinButton@Button>:
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: Color_Button
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [8,]
    background_color: Color_Button
    background_down:'./ico/Qarrow_L.png'
    background_normal:'./ico/Qarrow_L.png'

#
#
<ROptinButton@Button>:
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: Color_Button
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [8,]#8
    background_color: Color_Button
    background_down:'./ico/Qarrow_R.png'
    background_normal:'./ico/Qarrow_R.png'
#
#
<OptinButton@Button>:
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: Color_Button
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [8,]#8
    font_size: '20sp'
    color: Color_Text_Inpyt
    background_disabled_normal: ''
    background_normal: ''
    background_down:''
    text_size: self.width-sp(50), None
#
#
<CustomSwitch_Response@ToggleButton>:
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: Color_Button
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [8,]#8
    background_color: Color_Button
    background_down:'./ico/option.png'
    background_normal:'./ico/keyboard.png'
    border:(0, 0, 0, 0)
#
#
<CustomSwitch_Revers@ToggleButton>:
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: Color_Button
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [8,]#8
    background_color: Color_Button
    background_down:'./ico/swap_1_2.png'
    background_normal:'./ico/swap.png'
    border:(1, 1, 1, 1)
#
#
<ButtonSettings@Button>:
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: Color_Button
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [8,]
    background_color: Color_Background
    background_down:'./ico/settings_teach.png'
    background_normal:'./ico/settings.png'
    size_hint: 0.2,1
    border:(1, 1, 1, 1)
#
#
<ButtonRefresh@Button>:
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: Color_Button if self.state=='normal' else hex("#73A100")
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [8,]
    background_color: hex('#668F00')
    background_down:'./ico/Qrefresh_teach_1.png'
    background_normal:'./ico/Qrefresh_1.png'
    border:(1, 1, 1, 1)
#
#
<MyTextInput@TextInput>:
    hint_text_color: Color_Background
    foreground_color:Color_Text_Inpyt
    font_size: '26sp'
    multiline: False
#
#
<Container>:
    id:rooot
    label_main:label_main0
    textinput_main:textinput_main0
    switch_iput:switch_iput0
    switch_revers: switch_revers0
    button_settings: button_settings0
    button_send:button_send0
    gridlayout_options_response:gridlayout_options_response0
    boxLayout_keyboard:boxLayout_keyboard0
    pagemain:pagemain
    pagesatting:pagesatting
    outputtextflag:outputtextflag0
    label_flag:label_flag0
    button_sewap_pagemain:button_sewap_pagemain0
    butt_send10:butt_send1
    butt_send20:butt_send2
    butt_send30:butt_send3
    butt_send40:butt_send4
    setttings:setttings0
    response_flag:response_flag0
    flag_list:flag_list0
    text_input_flag:text_input_flag0
    text_input_boxlayout: text_input_boxlayout0
    boxlayout_options_buuton:boxlayout_options_buuton0
    text_question_boxlayout:text_question_boxlayout0
    text_statistic_boxlayout:text_statistic_boxlayout0
    save_flag:save_flag0
    bolvanca_flag:bolvanca_flag0
    bolvanca_main:bolvanca_main0
    #
    border:0
    page:1
    anim_kwargs:{'d': .1, 't': 'in_quad'}
    #
    BoxLayout:
        id:pagemain
        orientation: 'vertical'
        padding: [10,10,10,10]
        spacing: 5
        canvas.before:
            Color:
                rgba: Color_Background
            Rectangle:
                pos: self.pos
                size: self.size
        #
        BoxLayout:
            spacing:15
            orientation: 'vertical'
            #spacing:10
            canvas.before:
                Color:
                    rgba: Color_Background
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
            #
            BoxLayout:
                id:text_statistic_boxlayout0
                size_hint: 1,0.07#!!!
                #
                Label:
                    size_hint: 0.7,1
                    canvas.before:
                        Color:
                            rgba: Color_Contant
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10,]#8
                    id: label_flag0
                    text: "!!!!!!"
                    color: Color_Background
                    size: self.texture_size
                    text_size: self.size
                    font_size: '15sp'
                    halign: "left"
                    padding: 15,5
                #
                Widget:
                ButtonSettings:
                    id: button_settings0
                    #padding: [0,0,10,10]
                    on_release:
                        root.SwapSettings()
            #
            BoxLayout:
                id:text_question_boxlayout0
                size_hint:1, 0.8#!!!
                canvas.before:
                    Color:
                        rgba: Color_Contant
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [10,]#8
                #
                Label:
                    id: label_main0
                    text: "..."
                    color:Color_Text_Inpyt
                    font_size: '26sp'
                    size: self.texture_size
            #
            BoxLayout:
                id:boxLayout_keyboard0
                orientation: 'horizontal'
                size_hint:1, 0.1#!!!
                spacing:10
                #
                BoxLayout:
                    #padding:[5,5,5,5]
                    #spacing:1
                    canvas:
                        Color:
                            rgba: Color_Background_Text_Inpyt
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10,]#8
                    #
                    MyTextInput:
                        id: textinput_main0
                        background_color: 0,0,0,0
                        focus: False
                        on_focus: root.Text_Input_Response_on_focus(self.focus)
                        font_size: "26sp"
                        hint_text: "..."
                        padding_x:[self.center[0] - self._get_text_width(max(self._lines, key=len), self.tab_width, self._label_cached) / 2.0,0] if self.text else [self.center[0]-20, 0]
                        #padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                #
                OptinButton:
                    id: button_send0
                    size_hint: 0.1,1
                    text:"^"
                    on_release:
                        root.Verify_User_Response()
            #
            Widget:
                id: bolvanca_main0
                height:'0'
                size_hint_y:None
            #
            GridLayout:
                id: gridlayout_options_response0
                rows:2
                spacing: 5
                height: '0dp'
                size_hint_y: None
                opacity:0
                #
                OptinButton:
                    id: butt_send1
                    text:"1"
                    on_release: root.Verify_User_Options(self.text,butt_send1)
                OptinButton:
                    id: butt_send2
                    text:"2"
                    on_release: root.Verify_User_Options(self.text,butt_send2)
                OptinButton:
                    id: butt_send3
                    text:"3"
                    on_release: root.Verify_User_Options(self.text,butt_send3)
                OptinButton:
                    id: butt_send4
                    text:"4"
                    on_release: root.Verify_User_Options(self.text,butt_send4)
    #
    BoxLayout:
        id:pagesatting
        orientation: 'vertical'
        padding: [10,10,10,10]
        spacing: 15
        canvas.before:
            Color:
                rgba: Color_Background
            Rectangle:
                pos: self.pos
                size: self.size
        #
        BoxLayout:
            id:setttings0
            size_hint: 1,0.123#!!!
            spacing:10
            #
            ROptinButton:
                id:button_sewap_pagemain0
                on_release: root.SewapPagemain()
            #
            CustomSwitch_Response:
                id: switch_iput0
                on_state: root.Switch_Response_Method(self)
            #
            CustomSwitch_Revers:
                id: switch_revers0
                on_state: root.Switch_Order(self)
            #
            ButtonRefresh:
                on_release: root.Manager_Flags()
            #
            LOptinButton:
                on_release: root.SewapWriteFlags()
        #
        BoxLayout:
            id: boxlayout_options_buuton0
            ize_hint:1,0.8#!!!
            canvas.before:
                Color:
                    rgba: Color_Contant
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [10,]#8
            #
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                #
                Label:
                    id: flag_list0
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width, None
                    font_size: '25sp'
                    padding: 10, 10
                    color:hex("#000000")
                    text:""
        #
        BoxLayout:
            size_hint:1,0.1#!!!
            id: text_input_boxlayout0
            spacing: 10
            #
            BoxLayout:
                canvas:
                    Color:
                        rgba: Color_Background_Text_Inpyt
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8,]#8
                #
                MyTextInput:
                    id: text_input_flag0
                    background_color: 0,0,0,0
                    focus: False
                    on_focus: root.Text_Input_Flag_on_focus(self.focus)
                    hint_text:'1, 2 ,3 ... n'
            #
            OptinButton:
                size_hint:0.2,1
                id: response_flag0
                background_normal: './ico/Qplus.png'
                background_down:'./ico/Qrefresh_teach_1.png'
                border:(1,1,1,1)
                background_color: hex('#668F00')
                on_release: root.Selekt_Flag()
        #
        Widget:
            id: bolvanca_flag0
            height:'0'
            size_hint_y:None
    #
    BoxLayout:
        orientation: 'vertical'
        spacing:15
        padding: [10,10,10,10]
        canvas.before:
            Color:
                rgba: Color_Background
            Rectangle:
                pos: self.pos
                size: self.size
        #
        BoxLayout:
            size_hint: 1,0.1
            spacing:10
            #
            ROptinButton:
                size_hint: 0.2,1
                color: hex("000000")
                font_size: '25sp'
                #text:"<"
                on_release: root.Settings_SewapWriteFlags()
            #
            OptinButton:
                id: save_flag0
                size_hint: 1,1
                #color: hex("000000")
                font_size: '25sp'
                text:"Save"
                on_release: root.Add_Flag()
        #
        BoxLayout:
            padding:[5,5,5,5]
            canvas:
                Color:
                    rgba: Color_Background_Text_Inpyt
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [10,]#8
            #
            MyTextInput:
                id: outputtextflag0
                background_color: 0,0,0,0
                hint_text: "(Add new Flag)\n0:Falg\n1:Text One\n2:Text Two\n~~~"
